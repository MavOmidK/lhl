import { ChangeDetectionStrategy, Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ManagerCreateComponent } from '@lhl/manager/ui';
import { ManagerService } from '@lhl/manager/data-access';
import { TeamService } from '@lhl/team/data-access';
import { firstValueFrom, map } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@lhl/manager/data-access";
import * as i2 from "@lhl/team/data-access";
import * as i3 from "@angular/common";
export class ManagerFeatureCreateComponent {
    constructor(_managerService, _teamsService) {
        this._managerService = _managerService;
        this._teamsService = _teamsService;
        // Teams that don't currently have a manager
        this.availableTeams$ = this._teamsService.getTeams().pipe(map(teams => teams.filter(team => team.managerId === '')));
    }
    create(manager) {
        firstValueFrom(this._managerService.createManager(manager));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.8", ngImport: i0, type: ManagerFeatureCreateComponent, deps: [{ token: i1.ManagerService }, { token: i2.TeamService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.8", type: ManagerFeatureCreateComponent, isStandalone: true, selector: "lhl-manager-feature-create", ngImport: i0, template: "<lhl-manager-create [availableTeams]=\"(availableTeams$ | async) ?? []\" (create)=\"create($event)\"></lhl-manager-create>", styles: [""], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "pipe", type: i3.AsyncPipe, name: "async" }, { kind: "component", type: ManagerCreateComponent, selector: "lhl-manager-create", inputs: ["availableTeams"], outputs: ["create"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.8", ngImport: i0, type: ManagerFeatureCreateComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lhl-manager-feature-create', standalone: true, imports: [CommonModule, ManagerCreateComponent], changeDetection: ChangeDetectionStrategy.OnPush, template: "<lhl-manager-create [availableTeams]=\"(availableTeams$ | async) ?? []\" (create)=\"create($event)\"></lhl-manager-create>" }]
        }], ctorParameters: function () { return [{ type: i1.ManagerService }, { type: i2.TeamService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFuYWdlci1mZWF0dXJlLWNyZWF0ZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2xobC9tYW5hZ2VyL2ZlYXR1cmUtY3JlYXRlL3NyYy9saWIvbWFuYWdlci1mZWF0dXJlLWNyZWF0ZS9tYW5hZ2VyLWZlYXR1cmUtY3JlYXRlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbGhsL21hbmFnZXIvZmVhdHVyZS1jcmVhdGUvc3JjL2xpYi9tYW5hZ2VyLWZlYXR1cmUtY3JlYXRlL21hbmFnZXItZmVhdHVyZS1jcmVhdGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDekQsT0FBTyxFQUFXLGNBQWMsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ25FLE9BQU8sRUFBUSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsY0FBYyxFQUFFLEdBQUcsRUFBYyxNQUFNLE1BQU0sQ0FBQzs7Ozs7QUFVdkQsTUFBTSxPQUFPLDZCQUE2QjtJQU94QyxZQUFvQixlQUErQixFQUFVLGFBQTBCO1FBQW5FLG9CQUFlLEdBQWYsZUFBZSxDQUFnQjtRQUFVLGtCQUFhLEdBQWIsYUFBYSxDQUFhO1FBTHZGLDRDQUE0QztRQUM1QyxvQkFBZSxHQUE0QixJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FDM0UsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FDMUQsQ0FBQztJQUV3RixDQUFDO0lBRTNGLE1BQU0sQ0FBQyxPQUFnQjtRQUNyQixjQUFjLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDOzhHQVhVLDZCQUE2QjtrR0FBN0IsNkJBQTZCLHNGQ2YxQyw0SEFBc0gseUREVTFHLFlBQVksb0ZBQUUsc0JBQXNCOzsyRkFLbkMsNkJBQTZCO2tCQVJ6QyxTQUFTOytCQUNFLDRCQUE0QixjQUMxQixJQUFJLFdBQ1AsQ0FBQyxZQUFZLEVBQUUsc0JBQXNCLENBQUMsbUJBRzlCLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTWFuYWdlckNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ0BsaGwvbWFuYWdlci91aSc7XG5pbXBvcnQgeyBNYW5hZ2VyLCBNYW5hZ2VyU2VydmljZSB9IGZyb20gJ0BsaGwvbWFuYWdlci9kYXRhLWFjY2Vzcyc7XG5pbXBvcnQgeyBUZWFtLCBUZWFtU2VydmljZSB9IGZyb20gJ0BsaGwvdGVhbS9kYXRhLWFjY2Vzcyc7XG5pbXBvcnQgeyBmaXJzdFZhbHVlRnJvbSwgbWFwLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xobC1tYW5hZ2VyLWZlYXR1cmUtY3JlYXRlJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgTWFuYWdlckNyZWF0ZUNvbXBvbmVudF0sXG4gIHRlbXBsYXRlVXJsOiAnLi9tYW5hZ2VyLWZlYXR1cmUtY3JlYXRlLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbWFuYWdlci1mZWF0dXJlLWNyZWF0ZS5jb21wb25lbnQuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgTWFuYWdlckZlYXR1cmVDcmVhdGVDb21wb25lbnQge1xuXG4gIC8vIFRlYW1zIHRoYXQgZG9uJ3QgY3VycmVudGx5IGhhdmUgYSBtYW5hZ2VyXG4gIGF2YWlsYWJsZVRlYW1zJDogT2JzZXJ2YWJsZTxBcnJheTxUZWFtPj4gPSB0aGlzLl90ZWFtc1NlcnZpY2UuZ2V0VGVhbXMoKS5waXBlKFxuICAgIG1hcCh0ZWFtcyA9PiB0ZWFtcy5maWx0ZXIodGVhbSA9PiB0ZWFtLm1hbmFnZXJJZCA9PT0gJycpKVxuICApO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX21hbmFnZXJTZXJ2aWNlOiBNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSBfdGVhbXNTZXJ2aWNlOiBUZWFtU2VydmljZSkge31cblxuICBjcmVhdGUobWFuYWdlcjogTWFuYWdlcikge1xuICAgIGZpcnN0VmFsdWVGcm9tKHRoaXMuX21hbmFnZXJTZXJ2aWNlLmNyZWF0ZU1hbmFnZXIobWFuYWdlcikpO1xuICB9XG59XG4iLCI8bGhsLW1hbmFnZXItY3JlYXRlIFthdmFpbGFibGVUZWFtc109XCIoYXZhaWxhYmxlVGVhbXMkIHwgYXN5bmMpID8/IFtdXCIgKGNyZWF0ZSk9XCJjcmVhdGUoJGV2ZW50KVwiPjwvbGhsLW1hbmFnZXItY3JlYXRlPiJdfQ==